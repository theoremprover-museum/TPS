(defmode MODE-6102-MS98
 (FLAG-SETTINGS (ADD-TRUTH IF-NEEDED) (APPLY-MATCH APPLY-MATCH-ALL-FRDPAIRS) (BREAK-AT-QUANTIFIERS NIL) (COUNTSUBS-FIRST NIL) (DEFAULT-EXPAND MS98-1) (DEFAULT-MATE MS98-1) (DEFAULT-MS MS98-1) (DNEG-IMITATION CONST-FLEX) (DUP-ALLOWED T) (DUPLICATION-STRATEGY DUP-OUTER) (DUPLICATION-STRATEGY-PFD DUP-INNER) (ETA-RULE T) (EXCLUDING-GC-TIME T) (FF-DELAY NIL) (FIRST-ORDER-MODE-MS NIL) (HPATH-THRESHOLD 1) (IMITATION-FIRST T) (INITIAL-BKTRACK-LIMIT INFINITY) (INTERRUPT-ENABLE T) (LAST-MODE-NAME "Mode : MODE-X6104-PR97C, but with MAX-SEARCH-LIMIT set to NIL, and DEFAULT-MS set to MS98-1, and MS98-FIRST-FRAGMENT set to T, and MAX-SUBSTS-QUICK set to 1, and MAX-SUBSTS-VAR set to 1, and MS98-VERBOSE set to T, and MS98-INIT set to 3, and MS98-PRIMSUB-COUNT set to NIL, and MS98-DUP-BELOW-PRIMSUBS set to T, and SKOLEM-DEFAULT set to NIL, and REWRITE-EQUALITIES set to ALL, and REWRITE-DEFNS set to (LAZY2 (NONE ZERO SUCC)), and QUERY-USER set to QUERY-JFORMS, and MAX-SEARCH-LIMIT set to 5, and QUERY-USER set to NIL") (LEIBNIZ-SUB-CHECK NIL) (MATE-FFPAIR NIL) (MATING-VERBOSE SILENT) (MAX-DUP-PATHS INFINITY) (MAX-MATES 1) (MAX-PRIM-DEPTH 1) (MAX-PRIM-LITS 2) (MAX-SEARCH-DEPTH NIL) (MAX-SEARCH-LIMIT 5) (MAX-SUBSTS-PROJ NIL) (MAX-SUBSTS-PROJ-TOTAL NIL) (MAX-SUBSTS-QUICK 1) (MAX-SUBSTS-VAR 1) (MAX-UTREE-DEPTH NIL) (MAXIMIZE-FIRST NIL) (MERGE-MINIMIZE-MATING T) (MIN-PRIM-DEPTH 1) (MIN-PRIM-LITS 2) (MIN-QUANT-ETREE T) (MIN-QUANTIFIER-SCOPE NIL) (MIN-QUICK-DEPTH NIL) (MONITORFLAG NIL) (MS-DIR QUASI-TPS1) (MS-INIT-PATH NIL) (MS-SPLIT T) (MS90-3-DUP-STRATEGY 1) (MS90-3-QUICK NIL) (MS91-INTERLEAVE 10) (MS98-BASE-PRIM NIL) (MS98-DUP-BELOW-PRIMSUBS T) (MS98-DUP-PRIMSUBS NIL) (MS98-FIRST-FRAGMENT T) (MS98-FORCE-H-O NIL) (MS98-FRAGMENT-ORDER 1) (MS98-INIT 3) (MS98-LOW-MEMORY NIL) (MS98-MAX-COMPONENTS NIL) (MS98-MAX-PRIMS 1) (MS98-MEASURE 0) (MS98-MERGE-DAGS 0) (MS98-MINIMALITY-CHECK NIL) (MS98-NUM-OF-DUPS NIL) (MS98-PRIMSUB-COUNT NIL) (MS98-REW-PRIMSUBS NIL) (MS98-REWRITE-DEPTH 2) (MS98-REWRITE-MODEL NIL) (MS98-REWRITE-PRUNE T) (MS98-REWRITE-SIZE NIL) (MS98-REWRITE-UNIF NIL) (MS98-REWRITES NIL) (MS98-UNIF-HACK NIL) (MS98-UNIF-HACK2 NIL) (MS98-VALID-PAIR 1) (MS98-VARIABLE-ORDER 1) (MS98-VERBOSE NIL) (NEG-PRIM-SUB NIL) (NEW-MATING-AFTER-DUP NIL) (NUM-FRPAIRS 5) (NUM-OF-DUPS 1) (OCCURS-CHECK T) (ORDER-COMPONENTS PREFER-RIGID3) (PR97C-MAX-ABBREVS 1) (PR97C-PRENEX T) (PRIM-BDTYPES ("S")) (PRIM-BDTYPES-AUTO REPLACE-SUB) (PRIM-PREFIX PRIM) (PRIM-QUANTIFIER T) (PRIMSUB-METHOD PR97C) (PRIMSUB-VAR-SELECT NIL) (PRINT-MATING-COUNTER 1000) (PRINTMATEFILE "mate.mss") (PRINTMATEFLAG NIL) (PRINTMATEFLAG-SLIDES NIL) (PRINTMATEOPS ALWAYS-TRUE) (PROP-STRATEGY ALLOW-DUPLICATES) (PRUNING NIL) (QUERY-USER NIL) (RANK-EPROOF-FN NUM-VPATHS-RANKING) (RECORDFLAGS (LAST-MODE-NAME DEFAULT-MS DEFAULT-MATE DEFAULT-EXPAND SHORT-SITE-NAME MACHINE-TYPE MACHINE-INSTANCE LISP-IMPLEMENTATION-TYPE MAX-SEARCH-LIMIT SEARCH-TIME-LIMIT MAX-UTREE-DEPTH MAX-SEARCH-DEPTH MIN-QUICK-DEPTH INITIAL-BKTRACK-LIMIT NUM-FRPAIRS FIRST-ORDER-MODE-MS NUM-OF-DUPS MAX-MATES ORDER-COMPONENTS REWRITE-DEFNS REWRITE-EQUALITIES REMOVE-LEIBNIZ MAX-PRIM-DEPTH MIN-PRIM-DEPTH PRIM-QUANTIFIER PRIM-BDTYPES NEG-PRIM-SUB OCCURS-CHECK RANK-EPROOF-FN SKOLEM-DEFAULT MIN-QUANTIFIER-SCOPE)) (REDUCE-DOUBLE-NEG T) (REMOVE-LEIBNIZ T) (REWRITE-DEFNS (LAZY2 (NONE ZERO SUCC))) (REWRITE-EQUALITIES ALL) (REWRITE-EQUIVS 1) (RIGID-PATH-CK T) (RULEP-WFFEQ WFFEQ-AB) (SEARCH-COMPLETE-PATHS NIL) (SEARCH-TIME-LIMIT 1) (SHOW-TIME T) (SKOLEM-DEFAULT NIL) (STOP-AT-TSN T) (SUBSUMPTION-CHECK NIL) (SUBSUMPTION-DEPTH INFINITY) (SUBSUMPTION-NODES LP-NODES) (TIMING-NAMED T) (TOTAL-NUM-OF-DUPS NIL) (TRUTHVALUES-HACK NIL) (UNI-SEARCH-HEURISTIC BREADTH-FIRST) (UNIF-COUNTER 0) (UNIF-COUNTER-OUTPUT 0) (UNIF-TRIGGER NIL) (UNIFY-VERBOSE SILENT) (USE-DIY NIL) (USE-FAST-PROP-SEARCH T) (USE-RULEP NIL) (USE-SYMSIMP NIL))
 (mhelp "A mode which can prove tttp6102 [aka, x6102].

The mode cycles through 5 primsubs, the last being the right one:
lam w . NAT [p1 w] AND p2 w.  The first 3 fail quickly, but the
fourth (lam w . NAT [p1 w] OR p2 w) does not fail quickly.
In fact, I don't know how long it takes.  So, MAX-SEARCH-LIMIT is
set to 10 (allowing 10 seconds for each primsub) to force it to
fail quickly.  Once we get to the right primsub, all we need
is about 10 seconds.

I found the setting for NUM-OF-DUPS, MS98-NUM-OF-DUPS, and MAX-MATES
by using nat-etree on x6102.prf (a normal proof) and etr-auto-suggest.
Also, the ground expansion tree proof constructed by nat-etree
revealed (by lots of inspection by hand) that we need to duplicate
a quantifier beneath the primsub, so we set MS98-DUP-BELOW-PRIMSUBS T.
(This is an exception to the general rule that this 'minor' flag be NIL.)"))
